{"version":3,"file":"main-CL_Yezcp.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  // === 1. Инициализация иконок ===\n  const refreshIcons = () => lucide.createIcons();\n  refreshIcons();\n\n  // === 2. Smooth Scroll (Lenis) ===\n  const lenis = new Lenis();\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // === 3. Мобильное меню ===\n  const menuToggle = document.getElementById('menu-toggle');\n  const navMenu = document.getElementById('nav-menu');\n  const menuIcon = document.getElementById('menu-icon');\n  const body = document.body;\n\n  const toggleMenu = (isOpen) => {\n      navMenu.classList.toggle('nav--active', isOpen);\n\n      // Меняем иконку (x или menu)\n      const iconName = navMenu.classList.contains('nav--active') ? 'x' : 'menu';\n      menuIcon.setAttribute('data-lucide', iconName);\n      refreshIcons();\n\n      // Блокируем скролл при открытом меню\n      body.style.overflow = navMenu.classList.contains('nav--active') ? 'hidden' : '';\n  };\n\n  // Клик по гамбургеру\n  menuToggle.addEventListener('click', (e) => {\n      e.stopPropagation();\n      const isActive = navMenu.classList.contains('nav--active');\n      toggleMenu(!isActive);\n  });\n\n  // ЗАКРЫТИЕ: При клике на любую ссылку в меню\n  navMenu.querySelectorAll('a').forEach(link => {\n      link.addEventListener('click', () => toggleMenu(false));\n  });\n\n  // ЗАКРЫТИЕ: При клике вне области меню\n  document.addEventListener('click', (e) => {\n      if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {\n          toggleMenu(false);\n      }\n  });\n\n  // === 4. GSAP Анимации ===\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Эффект хедера при скролле\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      header.classList.toggle('header--scrolled', window.scrollY > 50);\n  });\n\n  // Появление элементов (снизу вверх)\n  gsap.utils.toArray('.reveal-up').forEach(elem => {\n      gsap.from(elem, {\n          scrollTrigger: {\n              trigger: elem,\n              start: 'top 85%',\n              toggleActions: 'play none none reverse'\n          },\n          y: 60,\n          opacity: 0,\n          duration: 1,\n          ease: 'power3.out'\n      });\n  });\n\n  // Появление элементов (сбоку)\n  gsap.utils.toArray('.reveal').forEach(elem => {\n      gsap.from(elem, {\n          scrollTrigger: {\n              trigger: elem,\n              start: 'top 80%'\n          },\n          x: 50,\n          opacity: 0,\n          duration: 1.2,\n          ease: 'power2.out'\n      });\n  });\n\n  // === 5. Капча ===\n  const captchaLabel = document.getElementById('captcha-label');\n  let captchaSum = 0;\n\n  const generateCaptcha = () => {\n      const n1 = Math.floor(Math.random() * 10);\n      const n2 = Math.floor(Math.random() * 5);\n      captchaSum = n1 + n2;\n      if(captchaLabel) captchaLabel.innerText = `${n1} + ${n2} =`;\n  };\n  generateCaptcha();\n\n  // === 6. Валидация и отправка формы ===\n  const form = document.getElementById('career-form');\n  const phoneInput = document.getElementById('phone');\n  const formMessage = document.getElementById('form-message');\n\n  if (phoneInput) {\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/\\D/g, ''); // Только цифры\n      });\n  }\n\n  if (form) {\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n          const userAnswer = parseInt(document.getElementById('captcha-input').value);\n\n          if (userAnswer !== captchaSum) {\n              formMessage.innerText = 'Ошибка проверки! Попробуйте снова.';\n              formMessage.style.color = '#ff4444';\n              generateCaptcha(); // Обновляем капчу при ошибке\n              return;\n          }\n\n          formMessage.innerText = 'Заявка отправляется...';\n          formMessage.style.color = 'var(--cyan, #00ffff)';\n\n          // Имитация отправки\n          setTimeout(() => {\n              formMessage.innerText = 'Успешно отправлено! Мы свяжемся с вами.';\n              formMessage.style.color = '#44ff44';\n              form.reset();\n              generateCaptcha();\n          }, 2000);\n      });\n  }\n\n  // === 7. Cookie Popup ===\n  const cookiePopup = document.getElementById('cookie-popup');\n  const cookieAcceptBtn = document.getElementById('cookie-accept');\n\n  if (cookiePopup && !localStorage.getItem('aether_cookies')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('cookie-popup--active');\n      }, 3000);\n  }\n\n  if (cookieAcceptBtn) {\n      cookieAcceptBtn.addEventListener('click', () => {\n          localStorage.setItem('aether_cookies', 'true');\n          cookiePopup.classList.remove('cookie-popup--active');\n      });\n  }\n});"],"names":["refreshIcons","lenis","raf","time","menuToggle","navMenu","menuIcon","body","toggleMenu","isOpen","iconName","isActive","link","header","elem","captchaLabel","captchaSum","generateCaptcha","n1","n2","form","phoneInput","formMessage","cookiePopup","cookieAcceptBtn"],"mappings":"ssBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMA,EAAe,IAAM,OAAO,YAAa,EAC/CA,EAAc,EAGd,MAAMC,EAAQ,IAAI,MAClB,SAASC,EAAIC,EAAM,CACfF,EAAM,IAAIE,CAAI,EACd,sBAAsBD,CAAG,CAC/B,CACE,sBAAsBA,CAAG,EAGzB,MAAME,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAW,SAAS,eAAe,WAAW,EAC9CC,EAAO,SAAS,KAEhBC,EAAcC,GAAW,CAC3BJ,EAAQ,UAAU,OAAO,cAAeI,CAAM,EAG9C,MAAMC,EAAWL,EAAQ,UAAU,SAAS,aAAa,EAAI,IAAM,OACnEC,EAAS,aAAa,cAAeI,CAAQ,EAC7CV,EAAc,EAGdO,EAAK,MAAM,SAAWF,EAAQ,UAAU,SAAS,aAAa,EAAI,SAAW,EAChF,EAGDD,EAAW,iBAAiB,QAAU,GAAM,CACxC,EAAE,gBAAiB,EACnB,MAAMO,EAAWN,EAAQ,UAAU,SAAS,aAAa,EACzDG,EAAW,CAACG,CAAQ,CAC1B,CAAG,EAGDN,EAAQ,iBAAiB,GAAG,EAAE,QAAQO,GAAQ,CAC1CA,EAAK,iBAAiB,QAAS,IAAMJ,EAAW,EAAK,CAAC,CAC5D,CAAG,EAGD,SAAS,iBAAiB,QAAU,GAAM,CAClC,CAACH,EAAQ,SAAS,EAAE,MAAM,GAAK,CAACD,EAAW,SAAS,EAAE,MAAM,GAC5DI,EAAW,EAAK,CAE1B,CAAG,EAGD,KAAK,eAAe,aAAa,EAGjC,MAAMK,EAAS,SAAS,cAAc,SAAS,EAC/C,OAAO,iBAAiB,SAAU,IAAM,CACpCA,EAAO,UAAU,OAAO,mBAAoB,OAAO,QAAU,EAAE,CACrE,CAAG,EAGD,KAAK,MAAM,QAAQ,YAAY,EAAE,QAAQC,GAAQ,CAC7C,KAAK,KAAKA,EAAM,CACZ,cAAe,CACX,QAASA,EACT,MAAO,UACP,cAAe,wBAClB,EACD,EAAG,GACH,QAAS,EACT,SAAU,EACV,KAAM,YAChB,CAAO,CACP,CAAG,EAGD,KAAK,MAAM,QAAQ,SAAS,EAAE,QAAQA,GAAQ,CAC1C,KAAK,KAAKA,EAAM,CACZ,cAAe,CACX,QAASA,EACT,MAAO,SACV,EACD,EAAG,GACH,QAAS,EACT,SAAU,IACV,KAAM,YAChB,CAAO,CACP,CAAG,EAGD,MAAMC,EAAe,SAAS,eAAe,eAAe,EAC5D,IAAIC,EAAa,EAEjB,MAAMC,EAAkB,IAAM,CAC1B,MAAMC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAClCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,CAAC,EACvCH,EAAaE,EAAKC,EACfJ,IAAcA,EAAa,UAAY,GAAGG,CAAE,MAAMC,CAAE,KAC1D,EACDF,EAAiB,EAGjB,MAAMG,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAa,SAAS,eAAe,OAAO,EAC5CC,EAAc,SAAS,eAAe,cAAc,EAEtDD,GACAA,EAAW,iBAAiB,QAAU,GAAM,CACxC,EAAE,OAAO,MAAQ,EAAE,OAAO,MAAM,QAAQ,MAAO,EAAE,CAC3D,CAAO,EAGDD,GACAA,EAAK,iBAAiB,SAAW,GAAM,CAInC,GAHA,EAAE,eAAgB,EACC,SAAS,SAAS,eAAe,eAAe,EAAE,KAAK,IAEvDJ,EAAY,CAC3BM,EAAY,UAAY,qCACxBA,EAAY,MAAM,MAAQ,UAC1BL,IACA,MACd,CAEUK,EAAY,UAAY,yBACxBA,EAAY,MAAM,MAAQ,uBAG1B,WAAW,IAAM,CACbA,EAAY,UAAY,0CACxBA,EAAY,MAAM,MAAQ,UAC1BF,EAAK,MAAO,EACZH,EAAiB,CACpB,EAAE,GAAI,CACjB,CAAO,EAIL,MAAMM,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAkB,SAAS,eAAe,eAAe,EAE3DD,GAAe,CAAC,aAAa,QAAQ,gBAAgB,GACrD,WAAW,IAAM,CACbA,EAAY,UAAU,IAAI,sBAAsB,CACnD,EAAE,GAAI,EAGPC,GACAA,EAAgB,iBAAiB,QAAS,IAAM,CAC5C,aAAa,QAAQ,iBAAkB,MAAM,EAC7CD,EAAY,UAAU,OAAO,sBAAsB,CAC7D,CAAO,CAEP,CAAC"}